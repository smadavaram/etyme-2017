
%body
  %h5 Received Bench
  %div{:role => "content"}
    .jarviswidget-editbox
    .widget-body.no-padding
      #datatable_fixed_column_wrapper.dataTables_wrapper.form-inline.dt-bootstrap.no-footer
        %table#datatable_fixed_column.table.table-striped.table-bordered.dataTable.no-footer.table-v2.table-lg{"aria-describedby" => "datatable_fixed_column_info", :role => "grid", :style => "width: 100%;", :width => "100%"}
          %thead
            %tr{:role => "row"}
              %th.hasinput{ :style => "width:17%"}
                %input.form-control{:placeholder => "Name", :type => "text"}/
              %th.hasinput{ :style => "width:18%"}
                %input.form-control{:placeholder => "Role", :type => "text"}/
              %th.hasinput{ :style => "width:18%"}
                %input.form-control{:placeholder => "Skills", :type => "text"}

              %th.hasinput{ :style => "width:17%"}
                %input.form-control{:placeholder => "Location", :type => "text"}/
              %th.hasinput{ :style => "width:17%"}
                %input.form-control{:placeholder => "Visa", :type => "text"}/
              %th.hasinput{ :style => "width:18%"}
                %input.form-control{:placeholder => "Shared By", :type => "text"}/
              %th.hasinput{ :style => "width:18%"}
                %input.form-control{:placeholder => "Action", :type => "text"}
            %tr{:role => "row"}
              %th.expand.sorting_asc Candidate Name
              %th Role, Title
              %th Skills
              %th Location
              %th Visa
              %th.sorting{} Shared By
              %th.sorting{} Actions
          %tbody
            - data.each_with_index  do |received, index|
              %tr.even{:role => "row"}
                %td= received.candidate.full_name
                %td
                  - if received.candidate.try(:roles).present?
                    - received.candidate.try(:roles).each do |role|
                      %span
                        .label-info.badge
                          = role.try(:name)
                  %td
                    - received.candidate.skills.each do |skill|
                      %span
                        .label-info.badge.margin-bottom-5
                          = skill.name
                  %td
                    = received.candidate.try(:location)
                  %td
                    = received.candidate.visa
                %td
                  - received.shared_by.users.each do |u|
                    %span
                      .label-info.badge.margin-bottom-5
                        = "#{u.first_name} #{u.last_name}"
                %td= link_to raw("<i class='fa fa-times '></i>") , company_job_receife_path(received) , method: :delete ,  class: 'btn btn-xs btn-default  margin-bottom-5',title: "Delete  ",'data-toggle'=>"tooltip" ,'data-placement'=>"top"
= digg_pagination(data)

:css
  .form-control
  {
    background-color: white !important;
  }
  .dt-toolbar-footer{
  display: flex !important;
  }

-content_for :scripts do
  :javascript
    $(document).ready(function() {
     pageSetUp();
      var responsiveHelper_dt_basic = undefined;
      var responsiveHelper_datatable_fixed_column = undefined;
      var responsiveHelper_datatable_col_reorder = undefined;
      var responsiveHelper_datatable_tabletools = undefined;
      var otable = $('#datatable_fixed_column').DataTable({
            "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6 hidden-xs'f><'col-sm-6 col-xs-12 hidden-xs'<'toolbar'>>r>"+
                    "t"+
                    "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-xs-12 col-sm-6'p>>",
            "autoWidth" : true,
            "oLanguage": {
                "sSearch": '<span class="input-group-addon"><i class="icon-feather-search"></i></span>'
            }

        });

      // Apply the filter
      $("#datatable_fixed_column thead th input[type=text]").on( 'keyup change', function () {
        otable
            .column( $(this).parent().index()+':visible' )
            .search( this.value )
            .draw();

      } );

    });
