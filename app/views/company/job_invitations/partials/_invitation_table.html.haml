.table-responsive
  %table#datatable_fixed_column.table.table-striped.table-bordered.table-v2.table-lg.dataTable.no-footer{"aria-describedby" => "datatable_fixed_column_info", :role => "grid", :style => "width: 100%;", :width => "100%"}
    %thead
      %tr{:role => "row"}
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Recipient Name", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Company", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Job", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Email / Username", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Created By", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => " Phone", :type => "text"}/
        %th.hasinput
          %input.form-control{ :placeholder => "Expiry", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Status", :type => "text"}/
        %th.hasinput{ :style => "width:10%"}
          %input.form-control{:placeholder => "Actions", :type => "text"}/
      %tr{:role => "row"}
        %th.sorting{} Recipient Name
        %th.sorting{} Company
        %th.sorting{} Job
        %th.sorting{} Email / Username
        %th.sorting{} Created By
        %th.sorting{} Phone
        %th.sorting{} Expiry
        %th.sorting{} Status
        %th.sorting{} Actions
    %tbody
      - data.each_with_index  do |invitation,index|
        %tr.even{:role => "row"}
          %td
            -if invitation.recipient.try(:photo).nil?
              =default_user_img(invitation.recipient.try(:first_name),invitation.recipient.try(:last_name))if invitation.recipient
            -else
              = image_tag(invitation.recipient.photo, class: 'data-table-image mr-1',title:"#{invitation.recipient.full_name}").html_safe if invitation.recipient.present?
            = link_to bind_initials(invitation.recipient.first_name,invitation.recipient.last_name), public_profile_static_candidates_path(invitation.recipient.id),class: 'data-table-font' if invitation.recipient.present?
          %td.no-wrap.pr-5
            = link_to image_tag(invitation.recipient.company.logo,class: 'data-table-image') , profile_company_path(invitation.recipient.company.id) if invitation.recipient.present? && invitation.recipient_type != "Candidate"
            =link_to do_ellipsis(invitation.recipient.company.name,5), profile_company_path(invitation.recipient.company.id),class: 'data-table-font' if invitation.recipient.present? && invitation.recipient_type != "Candidate"
          %td= link_to do_ellipsis(invitation.job.title), job_path(invitation.job),class: 'data-table-font'
          %td= do_ellipsis(invitation.recipient.email,15) if invitation.recipient.present?
          %td
            -if invitation.created_by.try(:photo).nil?
              =default_user_img(invitation.created_by.first_name,invitation.created_by.last_name) if invitation.created_by
            -else
              = image_tag(invitation.created_by.photo, class: 'data-table-image').html_safe if invitation.created_by.present?
            = link_to bind_initials(invitation.created_by.first_name,invitation.created_by.last_name),public_profile_static_candidates_path(invitation.created_by.id),class: 'data-table-font' if invitation.recipient.present?
          %td= invitation.recipient.phone if invitation.recipient.present?
          %td= colorfull_text(invitation.expiry.strftime("%d of %B, %Y"),'#1AAE9F') 
          %td= colorfull_text(invitation.status,'orange')
          %td= link_to raw("<i class='fa fa-eye '></i>") , job_invitation_path(invitation),title:"Detail of #{invitation.job.title}",class:"btn btn-xs btn-default",'data-toggle'=>"tooltip" ,'data-placement'=>"top"
  
  
  
  
= digg_pagination(data)

:css
  .form-control
  {
    background-color: white !important;
  }
  .dt-toolbar-footer{
  display:flex !important;
  }
-content_for :scripts do
  :javascript
    $(document).ready(function() {
     pageSetUp();
      var responsiveHelper_dt_basic = undefined;
      var responsiveHelper_datatable_fixed_column = undefined;
      var responsiveHelper_datatable_col_reorder = undefined;
      var responsiveHelper_datatable_tabletools = undefined;
      var otable = $('#datatable_fixed_column').DataTable({
            "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6 hidden-xs'f><'col-sm-6 col-xs-12 hidden-xs'<'toolbar'>>r>"+
                    "t"+
                    "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-xs-12 col-sm-6'p>>",
            "autoWidth" : true,
            "oLanguage": {
                "sSearch": '<span class="input-group-addon"><i class="icon-feather-search"></i></span>'
            }

        });

      // Apply the filter
      $("#datatable_fixed_column thead th input[type=text]").on( 'keyup change', function () {
        otable
            .column( $(this).parent().index()+':visible' )
            .search( this.value )
            .draw();

      } );

    });
