= render 'shared/alert_message'
= render partial: 'shared/errors', locals: { object: @company }

= form_for [:company, @company] , html:{ class:'form-horizontal', data: { domain_checker_form: true, default_error_message: 'Something went wrong', url: domain_suggestion_path } } do |f|
  - if @company.new_record?
    = f.fields_for :invited_by do |i|
      = i.hidden_field :user_id , value: current_user.id
      = i.hidden_field :invited_by_company_id , value: current_company.id
  .row
    .col-md-6
      - f.object.company_contacts.build
      = f.fields_for :company_contacts do |contact|
        = render 'company/companies/partials/company_contact_fields', f: contact

      .col-md-12{style: "margin-left:15px"}
        = link_to_add_association 'Add Contact', f, :company_contacts , partial: 'company/companies/partials/company_contact_fields',class:'btn btn-primary pull-right'

        -#.form-group
        -#  %label.col-md-4.control-label
        -#    Send Email for On-Boarding
        -#  .col-md-8
        -#    = f.check_box :send_email
        %br/
    .col-md-6
      %fieldset
        - if @company.new_record?
          .form-group
            %label.control-label
              Website
              %sup.text-danger *
            = f.text_field :website, :placeholder => 'Website', required: true, class: 'form-control', data: { website_field: true }
          .form-group
            %label.control-label
              Domain
              %sup.text-danger *
            = f.text_field :domain  ,:placeholder => "Domain", required: true,minlength: "3",class:'form-control', data: { domain_field: true }
            .note.text-muted
              Please Enter Domain like https://address
          .form-group
            %label.control-label
              Select type
            = f.select :company_type , [["Staffing/Training/Vendors", 'vendor'], ["Client/Implementation Patner", 'hiring_manager']],{include_blank: '-- Select Type --'} ,:class => 'form-control company_type', required: true, data: { company_type_field: true }
          .form-group
            %label.control-label
              Name
            = f.text_field :name , class: 'form-control' , placeholder: 'Enter Company Name', data: { name_field: true }
          .form-group
            %label.control-label
              Phone
            = f.phone_field :phone , class: 'form-control' , placeholder: 'Phone'
          .form-group
            = f.fields_for :custom_fields do |lt|
              = render 'shared/custom_fields', f: lt
            %strong
              .links.col-sm-12
                = link_to_add_association '+ Add Custom Field', f, :custom_fields, class: 'text-info pull-right', partial: 'shared/custom_fields'
              %br/
  .form-actions
    .row
      .col-md-12
        = button_tag 'Cancel' , class: 'btn btn-default' , "data-dismiss"=> "modal"
        = f.button "Submit".html_safe, data: {disable_with: disable_spinning("Saving...")} , class: 'btn btn-primary'

- content_for :scripts do
  = javascript_include_tag 'shared/domain_checker'
